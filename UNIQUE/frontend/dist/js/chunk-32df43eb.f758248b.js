(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32df43eb"],{cb98:function(e,t,a){e.exports=a.p+"img/nft-full.15f80265.jpg"},dd40:function(e,t,a){"use strict";a.r(t);var o=a("7a23"),l=a("cb98"),n=a.n(l);const c={class:"page-wrap"},s={class:"header-section has-header-main bg-pattern-3"},r={class:"create-section section-space-b pt-4 pt-md-5 mt-md-4"},i={class:"container"},d={class:"row justify-content-center"},m={class:"col-lg-8"},b={class:"section-head-sm"},f=Object(o["createElementVNode"])("em",{class:"ni ni-arrow-left"},null,-1),u=Object(o["createTextVNode"])(" Home "),p={class:"mt-2"},h={class:"col-lg-8"},j={action:"#",class:"form-create mb-5 mb-lg-0"},g={class:"form-item mb-4"},N=Object(o["createElementVNode"])("h5",{class:"mb-3"},"Upload file",-1),O={class:"file-upload-wrap"},E=Object(o["createElementVNode"])("p",{class:"file-name mb-4",id:"file-name"},"PNG, GIF, WEBP, MP4 or MP3. Max 100mb.",-1),V=Object(o["createElementVNode"])("label",{for:"file-upload",class:"input-label btn btn-dark"},"Choose File",-1),v={class:"form-item mb-4"},w={class:"mb-4"},y=Object(o["createElementVNode"])("label",{class:"mb-2 form-label"},"Title",-1),k={class:"mb-4"},T=Object(o["createElementVNode"])("label",{class:"mb-2 form-label"},"Description",-1),D={key:0,class:"modal fade",id:"createNftModal",tabindex:"-1","aria-hidden":"true"},x={class:"modal-dialog modal-dialog-centered"},C={class:"modal-content"},P={class:"modal-header"},S={class:"modal-title"},A=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close icon-btn","data-bs-dismiss":"modal","aria-label":"Close"},[Object(o["createElementVNode"])("em",{class:"ni ni-cross"})],-1),M={class:"modal-body"},I=["innerHTML"],F={class:"mb-3"},U={class:"form-label"},R={key:1,class:"modal fade",id:"createNftModal2",tabindex:"-1","aria-hidden":"true"},B={class:"modal-dialog modal-dialog-centered"},L={class:"modal-content"},H={class:"modal-header d-flex flex-column"},K={class:"modal-title d-flex justify-content-center"},_=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close icon-btn","data-bs-dismiss":"modal","aria-label":"Close"},[Object(o["createElementVNode"])("em",{class:"ni ni-cross"})],-1),W=Object(o["createElementVNode"])("p",{class:"d-flex justify-content-center"},"Wow! You just create your NFT",-1),G=Object(o["createElementVNode"])("div",{class:"modal-body d-flex flex-column"},[Object(o["createElementVNode"])("div",{class:"mb-3 d-flex justify-content-center"},[Object(o["createElementVNode"])("img",{src:n.a,class:"justify-content-center",alt:""})])],-1);function $(e,t,a,l,n,$){const q=Object(o["resolveComponent"])("HeaderMain"),z=Object(o["resolveComponent"])("router-link"),J=Object(o["resolveComponent"])("Footer");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("header",s,[Object(o["createVNode"])(q)]),Object(o["createElementVNode"])("section",r,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(z,{to:{name:"Home"},class:"btn-link fw-semibold"},{default:Object(o["withCtx"])(()=>[f,u]),_:1}),Object(o["createElementVNode"])("h1",p,Object(o["toDisplayString"])(n.SectionData.createData.title),1)])]),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("form",j,[Object(o["createElementVNode"])("div",g,[N,Object(o["createElementVNode"])("div",O,[E,Object(o["createElementVNode"])("input",{id:"file-upload",class:"file-upload-input","data-target":"file-name",type:"file",enctype:"multipart/form-data",onChange:t[0]||(t[0]=(...e)=>$.selectFile&&$.selectFile(...e)),hidden:""},null,32),V])]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",w,[y,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control form-control-s1","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.nftName=e),placeholder:"e. g. Redeemable T-Shirt with logo"},null,512),[[o["vModelText"],n.form.nftName]])]),Object(o["createElementVNode"])("div",k,[T,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"message",class:"form-control form-control-s1","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.nftDescription=e),placeholder:"e. g. After purchasing you’ll be able to get the real T-Shirt"},null,512),[[o["vModelText"],n.form.nftDescription]])])]),Object(o["createElementVNode"])("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#createNftModal",class:"btn btn-dark d-block",onClick:t[3]||(t[3]=(...e)=>$.checkInputData&&$.checkInputData(...e))},"Create Item")])])])])]),Object(o["createVNode"])(J,{classname:"bg-black on-dark"}),this.form.nftDescription&&this.form.nftName&&this.form.file?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",D,[Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",P,[Object(o["createElementVNode"])("h4",S,Object(o["toDisplayString"])(n.SectionData.createNftModal.title),1),A]),Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("p",{class:"mb-3",innerHTML:n.SectionData.createNftModal.content},null,8,I),Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("label",U,Object(o["toDisplayString"])(n.SectionData.createNftModal.labelText),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control form-control-s1","onUpdate:modelValue":t[4]||(t[4]=e=>n.authorPrivateKey=e),placeholder:"please typing your Private Key"},null,512),[[o["vModelText"],n.authorPrivateKey]])]),Object(o["createElementVNode"])("button",{class:"btn btn-dark d-block",onClick:t[5]||(t[5]=(...e)=>$.submitCreateNFT&&$.submitCreateNFT(...e)),"data-bs-target":"#createNftModal2","data-bs-toggle":"modal"},"Confirm")])])])])):Object(o["createCommentVNode"])("",!0),n.authorPrivateKey&&!0===$.checkInputData?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",R,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("h4",K,"You created "+Object(o["toDisplayString"])(n.form.nftName),1),_,W]),G])])])):Object(o["createCommentVNode"])("",!0)])}var q=a("bc3a"),z=a.n(q),J=a("99e5"),Y=a.n(J),Q=a("07a4"),X=a("fe42"),Z=a("c5fa"),ee=a("5502");const te="http://localhost:8081",ae=Z.abi,oe=Z.networks["202112031219"].address,le=Object({NODE_ENV:"production",VUE_APP_SERVER_URL:"http://localhost:8081",BASE_URL:""}).GANACHE_SERVER_URL;let ne=new Y.a(new Y.a.providers.HttpProvider(le));var ce={name:"Wallet",data(){return{SectionData:Q["a"],selected:"Select Collection",options:["Select Collection","Abstraction","Patternlicious","Skecthify","Cartoonism","Virtuland","Papercut"],form:{nftWorkUri:null,nftType:null,nftName:null,nftAuthorName:this.username,nftDescription:null,file:null},authorPrivateKey:null,newtokenId:null}},methods:{selectFile(e){this.form.file=e.target.files[0]},checkInputData(){if(this.form.file&&this.form.nftName&&this.form.nftDescription)return console.log("통과"),!0;alert("Please Input information for Create your item")},async submitCreateNFT(){console.log(this.authorPrivateKey);const e=await Object(X["a"])("0x"+this.authorPrivateKey);console.log(e,"체크퍼브키");const t=await this.myAddress;if(console.log(t,"되나"),e===t){let e=new FormData;e.append("nftAuthorName",this.username),e.append("nftName",this.form.nftName),e.append("nftDescription",this.form.nftDescription),e.append("file",this.form.file);const a=await z()({method:"POST",url:te+"/api/file",data:e,headers:{Authorization:this.$store.state.authToken,"Content-Type":"multipart/form-data"}}),o=a.data.nftMetadataUri,l=await new ne.eth.Contract(ae,oe);await l.methods.current().call({from:t});let n=await l.methods.create(t,o);const c=n.encodeABI(),s={from:t,to:oe,gas:5e5,data:c};console.log(s,"rawTx");const r=ne.eth.accounts.privateKeyToAccount(this.authorPrivateKey),i=await r.signTransaction(s);if(console.log(i,"signedTx"),null==i)console.log("TransactionSignFailedException");else{let e=await ne.eth.sendSignedTransaction(i.rawTransaction).on("receipt",console.log);const t=await ne.eth.getTransactionReceipt(e.transactionHash);console.log(t,"여기 뭐떠?")}let d=await l.methods.current().call();this.newtokenId=d,console.log(d,"이거토큰아이디임"),console.log("1번 아이디입니다 "),console.log("아아");await l.methods.ownerOf(d).call().then(console.log),await l.methods.tokenURI(d).call().then(console.log);console.log(d,"newtokenId"),console.log(n,"createNFTResponse"),console.log("------------------------"),d=await l.methods.current().call(),console.log(d,"newtokenId"),console.log(n,"createNFTResponse");let m=l.methods.getApproved(d).call();console.log(m,"11111111111111111"),console.log(d,t,o,oe,"됩니까");await z()({method:"PUT",url:te+"/api/file/update",data:{tokenId:d,ownerAddress:t,metadataUri:o,contractAddress:oe},headers:{Authorization:this.$store.state.authToken}});this.$router.push({name:"ProductDetail",id:d})}else this.authorPrivateKey=null}},computed:{...Object(ee["d"])(["myAddress","username"]),...Object(ee["d"])(["authToken"])},mounted(){function e(e){let t=document.querySelectorAll(e);t.length>0&&t.forEach(e=>{e.addEventListener("change",(function(){var t=document.getElementById(e.dataset.target),a=["jpg","png","gif","webp","mp4","mp3"],o=this.value.split(".").pop(),l=this.value.lastIndexOf("."),n=this.value.substring(l+1),c=t.value=n;a.includes(o)?t.innerHTML=e.files[0].name:(alert(c+" file type not allowed, Please upload jpg, png, gif, webp, mp4 or mp3 file"),t.innerHTML="Please upload jpg, png, gif, webp, mp4 or mp3 file")}))})}function t(e){let t=document.querySelectorAll(e);t.length>0&&t.forEach(e=>{e.addEventListener("change",(function(){let t=document.getElementById(e.dataset.target);this.checked?t.classList.add("is-shown"):t.classList.remove("is-shown")}))})}e(".file-upload-input"),t(".checkbox-switcher")}},se=a("6b0d"),re=a.n(se);const ie=re()(ce,[["render",$]]);t["default"]=ie}}]);